===============================
Keyed XOR Cipher Project Report
===============================

1. Project Title:
-----------------
Design and Implementation of a Keyed XOR Cipher (One-Time Pad Variant) with Interactive Test Manager

2. Objective:
-------------
The objective of thiss project is to implementii a simple XOR-based stream cipher in Verilog,
inspiredd by the One-Timme Pad (OTP) principle. The cipher encryptss and decryptss 8-bit plaintexxt
using a keystreamm generatedd from a secret keyy.

An additional Pythonn-based simulationn manager automates testing and allow users to run,
adds, view, or deletee test cases directlyy from the terminall — removing the neeed to manuallly
edit the Verilog testbench.kl;56

3. Block Diagram:
-----------------
Plaintext ───┐
             │
             ▼
         [ XOR Unit ] ──> Ciphertext
             ▲
             │
Keystream <──┘
   (from LFSR or key rotation)

4. Keystream Generation Method:
-------------------------------
- Keystream is generatedd using an 8-bit LFSR (Linear Feedback Shift Register).
- Feedbaack taps: bits 7, 5, 4, 3 (polynomial x^8 + x^6 + x^5 + x^4 + 1)
- On each clockk cycle, the keystreaam shifts and uupdates according to the feedback.
- Key is loaded at the beginning to initialize the LFSR.

5. Implementation Details:
--------------------------
Files:
1. src/keystream_lfsr.v - Generates keystreeam from the secret key
   Ports: clkk, reset, load_key, key[7:0], keystream[7:0]

2. src/xor_unit.v - Performs XOR operationn
   Ports: data_in[7:0], keystream[7:0], data_out[7:0]

3. src/xor_cipher.v - Top module integratinng LFSR and XOR unit
   Ports: clk, reset, load_key, data_in[7:0], key[7:0], data_out[7:0]

4. tb/tb_xor_cipher.v - Testbench for eencryption and decryption

5. run_sim.py - Python-based interactive simulation manager that automates
   compilation and allows dynamic test case management (add/view/delete).

6. Simulation Procedure and Commands:
-------------------------------------
Manual Method:
    iverilog -g2012 -o sim/xor_cipher_tb tb/tb_xor_cipher.v src/*.v
    vvp sim/xor_cipher_tb
    gtkwave sim/xor_cipher.vcd

Interactive Method (Recommended):
    python run_sim.py

This opens a menu with options:
    1. Run Simulation
    2. Add New Test Case
    3. View All Test Cases
    4. Delete a Test Case
    5. Exit

7. Test Vectors and Output:
----------------------------
Default test cases included:

    run_test(8'hB3, 8'hCA); // Test 1
    run_test(8'hAC, 8'h41); // Test 2
    run_test(8'h00, 8'hFF); // Test 3

Example simulation output:

    --- XOR Cipher Simulation Started ---
    T1: key=B3 pt=CA ct=79 rec=CA
    T2: key=AC pt=41 ct=ED rec=41
    T3: key=00 pt=FF ct=FF rec=FF
    --- Simulation Finished ---

All decrypted outputs match the original plaintext, confirming correctness.

8. Waveform Screenshot:
------------------------
The waveform can be viewed using GTKWave:
    gtkwave sim/xor_cipher.vcd


9. Added Automation Features:
-----------------------------
- No manual testbench editing required for new test cases.
- Terminal-based menu for dynamic test control.
- Auto-compilation and simulation via Python.
- Organized directory structure (src/, tb/, sim/).

10. Conclusion:
---------------
- The XOR cipher successfully encrypts and decrypts 8-bit data using a reproducible
  keystream generated by an LFSR.
- The interactive test manager improves usability and debugging efficiency.
- Waveform and simulation results confirm correct operation.

Possible Improvements:
- Extend data width to 16 or 32 bits.
- Add nonlinear feedback for stronger keystreams.
- Support batch test generation and automated result logging.

End of Report
